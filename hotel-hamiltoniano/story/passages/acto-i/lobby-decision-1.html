<!-- üé≠ PASAJE: RESULTADO DECISI√ìN LOBBY -->
<div class="quantum-passage decision-result">
    <h2>üîÆ Realidad Colapsada</h2>
    
    <div class="decision-outcome">
        <p>Has elegido: <strong id="decision-value"></strong></p>
        <p class="reality-id">Nueva realidad: <code id="reality-id"></code></p>
    </div>

    <div class="character-response">
        <div class="character-avatar">üé≠</div>
        <div class="dialog-content">
            <strong>Halim responde:</strong>
            <p id="halim-response">Cargando respuesta cu√°ntica...</p>
        </div>
    </div>

    <div class="next-actions">
        <h3>¬øQu√© deseas hacer ahora?</h3>
        <button onclick="continueToElevator()">üöÄ Continuar al elevador de cuerdas</button>
        <button onclick="meetTheCat()">üê± Buscar al gato de Schr√∂dinger</button>
        <button onclick="returnToLobby()">‚Ü©Ô∏è Regresar al Lobby</button>
    </div>
</div>

<script>
(function() {
    // Cargar respuesta de Halim basada en la decisi√≥n
    const decision = window.quantumEngine.getDecisionState('lobby-entrada');
    const responseElement = document.getElementById('halim-response');
    
    const responses = {
        0: "¬°Excelente elecci√≥n! La superposici√≥n es nuestro estado natural. Su suite de Schr√∂dinger le espera... y no le espera simult√°neamente.",
        1: "Un observador cuidadoso. La paciencia es una virtud cu√°ntica. ¬øQu√© m√°s desea examinar antes de colapsar m√°s realidades?",
        2: "El gato est√°... bueno, usted sabe c√≥mo es. Actualmente superpone ronroneos y silencios en proporciones elegantes.",
        3: "Fascinante enfoque cient√≠fico. El jacuzzi autoconsciente aprecia su atenci√≥n meticulosa a la entrop√≠a.",
        4: "El botones po√©tico ser√° notificado. Subir√° sus paradojas en el elevador de cuerdas c√≥smicas inmediatamente.",
        5: "El caf√© cu√°ntico tiene una temperatura de Bekenstein de exactamente 2.73 K, con un error de ¬±i‚àö(imaginario).",
        6: "La superposici√≥n sensorial revela que el lobby existe en 11 dimensiones simult√°neamente. ¬øPuede percibirlas todas?",
        7: "Spin ajustado. Su funci√≥n de onda ahora tiene un momento angular po√©tico exquisito. Puede proceder con confianza."
    };
    
    const choiceIdx = parseInt(decision.collapsedState.id.split('-').pop(), 10);
    if (responseElement && responses[choiceIdx] !== undefined) {
        responseElement.textContent = responses[choiceIdx];
    }
    const decisionEl = document.getElementById('decision-value');
    const realityEl = document.getElementById('reality-id');
    if (decisionEl) decisionEl.textContent = decision.collapsedState.value;
    if (realityEl) realityEl.textContent = window.quantumEngine.calculateRealityId();
})();

function continueToElevator() {
    console.log('üõó Navegando al elevador de cuerdas...');
    alert('¬°Elevador de cuerdas c√≥smicas activado! (Pr√≥xima escena)');
}

function returnToLobby() {
    console.log('‚Ü©Ô∏è Regresando al lobby...');
    if (typeof window.loadPassage === 'function') {
        window.loadPassage('lobby-start');
    }
}

function meetTheCat() {
    console.log('üê± Buscando al gato...');
    alert('El gato de Schr√∂dinger aparece... o no aparece... o ambas cosas...');
}
</script>

<style>
.decision-result {
    max-width: 700px;
    margin: 0 auto;
    padding: 30px;
    background: rgba(15, 12, 41, 0.9);
    border-radius: 20px;
    border: 2px solid #ff6bcb;
}

.decision-outcome {
    background: rgba(0, 255, 255, 0.1);
    padding: 20px;
    border-radius: 15px;
    margin: 20px 0;
    text-align: center;
}

.reality-id {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 10px;
    border-radius: 8px;
    margin-top: 10px;
}

.next-actions {
    margin-top: 30px;
}

.next-actions button {
    display: block;
    width: 100%;
    margin: 10px 0;
    padding: 15px;
    background: rgba(255, 107, 203, 0.2);
    border: 1px solid #ff6bcb;
    color: white;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.next-actions button:hover {
    background: rgba(255, 107, 203, 0.4);
    transform: translateY(-2px);
}
</style>
