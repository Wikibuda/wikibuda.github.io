<!-- ğŸ¨ PASAJE: LOBBY INICIAL - ACTO I -->
<!-- Donde comienza el viaje cuÃ¡ntico de cada huÃ©sped -->

<div class="quantum-passage lobby-start" data-reality="{{State.realityId}}">
    
    <!-- Encabezado del Hotel -->
    <div class="hotel-header">
        <h1>ğŸ¨ HOTEL HAMILTONIANO</h1>
        <div class="reality-indicator">
            <span class="reality-badge">Realidad: {{State.realityId}}</span>
        </div>
    </div>

    <!-- DescripciÃ³n atmosfÃ©rica -->
    <div class="atmosphere">
        <p>Te encuentras en el umbral del <strong>Hotel Hamiltoniano</strong>, donde las ecuaciones son suites de cristal y los operadores son maÃ®tres de salÃ³n. El aire vibra con posibilidades superpuestas, y cada superficie refleja realidades alternas.</p>
        
        <div class="quantum-effects">
            <div class="effect-particles"></div>
        </div>
    </div>

    <!-- Halim - El Concierge del Caos -->
    <div class="character-dialog halim-intro">
        <div class="character-avatar">ğŸ­</div>
        <div class="dialog-content">
            <strong>Halim:</strong>
            <p id="halim-greeting">Â¡Bienvenido, viajero cuÃ¡ntico! Su reserva existe en un estado de superposiciÃ³n elegante: <em>confirmada y cancelada simultÃ¡neamente</em>. Â¿Desea proceder con el check-in paradÃ³jico?</p>
        </div>
    </div>

    <!-- Primer conjunto de decisiones cuÃ¡nticas -->
    <div class="quantum-decision" data-decision-id="lobby-entrada">
        <h3>ğŸŒŒ Su primera decisiÃ³n cuÃ¡ntica:</h3>
        
        <div class="quantum-options">
            <button class="quantum-option superposed" data-choice="0" onclick="window.quantumInterface.collapseChoice('lobby-entrada', 0, this)">
                ğŸ© "Acepto la superposiciÃ³n con entusiasmo poÃ©tico-cuÃ¡ntico"
            </button>
            
            <button class="quantum-option superposed" data-choice="1" onclick="window.quantumInterface.collapseChoice('lobby-entrada', 1, this)">
                ğŸ¤” "Prefiero observar las opciones antes de colapsar la funciÃ³n de onda"
            </button>
            
            <button class="quantum-option superposed" data-choice="2" onclick="window.quantumInterface.collapseChoice('lobby-entrada', 2, this)">
                ğŸ± "Â¿DÃ³nde estÃ¡ el gato de SchrÃ¶dinger? Necesito confirmar su estado vital"
            </button>
            
            <button class="quantum-option superposed" data-choice="3" onclick="window.quantumInterface.collapseChoice('lobby-entrada', 3, this)">
                ğŸ“ "Deseo calcular manualmente la entropÃ­a del jacuzzi primero"
            </button>
            
            <button class="quantum-option superposed" data-choice="4" onclick="window.quantumInterface.collapseChoice('lobby-entrada', 4, this)">
                ğŸ’ "Mi maleta de paradojas necesita ser entregada al botones poÃ©tico"
            </button>
            
            <button class="quantum-option superposed" data-choice="5" onclick="window.quantumInterface.collapseChoice('lobby-entrada', 5, this)">
                â˜• "Antes que nada, necesito medir la temperatura de Bekenstein de un cafÃ©"
            </button>
            
            <button class="quantum-option superposed" data-choice="6" onclick="window.quantumInterface.collapseChoice('lobby-entrada', 6, this)">
                ğŸ”® "Quiero explorar el lobby en estado de superposiciÃ³n sensorial"
            </button>
            
            <button class="quantum-option superposed" data-choice="7" onclick="window.quantumInterface.collapseChoice('lobby-entrada', 7, this)">
                âš›ï¸ "Deseo ajustar el spin de mi funciÃ³n de onda antes de proceder"
            </button>
        </div>
    </div>

    <!-- Elementos ambientales interactivos -->
    <div class="environment-interactions">
        <div class="interaction-item" data-interaction="pizarra-planck">
            <div class="interaction-icon">ğŸ“œ</div>
            <span>Pizarra de Planck</span>
        </div>
        
        <div class="interaction-item" data-interaction="elevador-cuerdas">
            <div class="interaction-icon">ğŸ›—</div>
            <span>Elevador de Cuerdas CÃ³smicas</span>
        </div>
        
        <div class="interaction-item" data-interaction="interfono-gerente">
            <div class="interaction-icon">ğŸ“</div>
            <span>Interfono de la Gerente</span>
        </div>
    </div>

</div>

<style>
.quantum-passage.lobby-start {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background: rgba(15, 12, 41, 0.8);
    border-radius: 20px;
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.hotel-header {
    text-align: center;
    margin-bottom: 30px;
    padding: 20px;
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(255, 107, 203, 0.1));
    border-radius: 15px;
}

.hotel-header h1 {
    font-size: 2.5em;
    margin: 0;
    background: linear-gradient(45deg, #00ffff, #ff6bcb);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.reality-indicator {
    margin-top: 10px;
}

.reality-badge {
    background: rgba(0, 255, 255, 0.2);
    padding: 5px 15px;
    border-radius: 20px;
    font-family: monospace;
    border: 1px solid #00ffff;
}

.character-dialog {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 20px;
    margin: 20px 0;
    border-left: 4px solid #00ffff;
    display: flex;
    align-items: flex-start;
    gap: 15px;
}

.character-avatar {
    font-size: 2em;
    flex-shrink: 0;
}

.dialog-content {
    flex: 1;
}

.quantum-decision {
    background: rgba(0, 255, 255, 0.1);
    border-radius: 15px;
    padding: 25px;
    margin: 30px 0;
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.quantum-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 20px;
}

.quantum-option {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: white;
    padding: 15px;
    border-radius: 10px;
    cursor: pointer;
    text-align: left;
    transition: all 0.3s ease;
    font-size: 14px;
}

.quantum-option:hover {
    background: rgba(0, 255, 255, 0.2);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
}

.quantum-option.superposed {
    opacity: 0.8;
    animation: superposition-pulse 2s infinite;
}

.environment-interactions {
    display: flex;
    justify-content: space-around;
    margin-top: 30px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 15px;
}

.interaction-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    padding: 10px;
    border-radius: 10px;
}

.interaction-item:hover {
    background: rgba(0, 255, 255, 0.1);
    transform: scale(1.05);
}

.interaction-icon {
    font-size: 1.5em;
}

@keyframes superposition-pulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}

.quantum-effects {
    height: 100px;
    position: relative;
    margin: 20px 0;
}

.effect-particles {
    position: absolute;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at 20% 50%, rgba(0, 255, 255, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 107, 203, 0.3) 0%, transparent 50%);
    animation: quantum-float 10s ease-in-out infinite;
}

@keyframes quantum-float {
    0%, 100% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-10px) scale(1.02); }
}
</style>

<script>
// InicializaciÃ³n del pasaje
(function() {
    console.log('ğŸ¨ Pasaje Lobby Start - Cargado');
    
    // Inicializar motor cuÃ¡ntico si no existe
    if (!window.quantumEngine) {
        window.quantumEngine = new QuantumEngine();
        console.log('âš›ï¸ Motor cuÃ¡ntico inicializado en pasaje');
    }
    
    // Inicializar interfaz si no existe
    if (!window.quantumInterface) {
        window.quantumInterface = {
            collapseChoice: function(decisionId, choiceIndex, element) {
                console.log(`ğŸ”® Colapsando decisiÃ³n: ${decisionId}, opciÃ³n: ${choiceIndex}`);
                
                // Efecto visual de colapso
                const options = element.parentElement.querySelectorAll('.quantum-option');
                options.forEach(opt => {
                    opt.classList.remove('superposed');
                    opt.style.opacity = '0.6';
                    opt.style.pointerEvents = 'none';
                });
                
                element.style.opacity = '1';
                element.style.background = 'rgba(0, 255, 255, 0.3)';
                element.style.transform = 'scale(1.05)';
                
                // Colapsar en el motor
                const collapsed = window.quantumEngine.collapseSuperposition(decisionId, choiceIndex);
                
                // Actualizar realidad en la UI
                const realityBadge = document.querySelector('.reality-badge');
                if (realityBadge) {
                    realityBadge.textContent = `Realidad: ${window.quantumEngine.calculateRealityId()}`;
                }
                
                // Navegar al siguiente pasaje
                console.log('ğŸš€ Navegando al siguiente pasaje...');
                if (typeof window.loadPassage === 'function') {
                    window.loadPassage('lobby-decision-1');
                }
                
                return collapsed;
            }
        };
    }
    
    // Crear superposiciÃ³n inicial para las decisiones del lobby
    const lobbyOptions = [
        "Acepto la superposiciÃ³n con entusiasmo poÃ©tico-cuÃ¡ntico",
        "Prefiero observar las opciones antes de colapsar la funciÃ³n de onda", 
        "Â¿DÃ³nde estÃ¡ el gato de SchrÃ¶dinger? Necesito confirmar su estado vital",
        "Deseo calcular manualmente la entropÃ­a del jacuzzi primero",
        "Mi maleta de paradojas necesita ser entregada al botones poÃ©tico",
        "Antes que nada, necesito medir la temperatura de Bekenstein de un cafÃ©",
        "Quiero explorar el lobby en estado de superposiciÃ³n sensorial",
        "Deseo ajustar el spin de mi funciÃ³n de onda antes de proceder"
    ];
    
    window.quantumEngine.createSuperposition('lobby-entrada', lobbyOptions);
    console.log('ğŸŒŒ SuperposiciÃ³n de lobby creada con 8 opciones');
    
    // Actualizar indicador de realidad
    const realityBadge = document.querySelector('.reality-badge');
    if (realityBadge) {
        realityBadge.textContent = `Realidad: ${window.quantumEngine.calculateRealityId()}`;
    }

    // NavegaciÃ³n por interacciones del entorno
    const pizarra = document.querySelector('[data-interaction="pizarra-planck"]');
    if (pizarra && typeof window.loadPassage === 'function') {
        pizarra.addEventListener('click', () => {
            console.log('ğŸ“œ Navegando a Pizarra de Planck');
            window.loadPassage('pasaje_pizarra');
        });
    }
})();
</script>
